(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_chatbi-simple"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_chatbi-simple"]||[]).push([["ba8cbd1f"],{"030575c7":function(e,s,t){"use strict";t.d(s,"__esModule",{value:!0}),t.d(s,"default",{enumerable:!0,get:function(){return i;}});var a=t("94a7e9a3"),c=t("69341729"),l=t("8fdf2a5a"),n=t("73182086");function i(){let{setInitialState:e}=(0,l.useModel)("@@initialState");return(0,c.useEffect)(()=>{(async()=>{try{let s=await n.authingClient.handleRedirectCallback();if(s){let{parsedIdToken:t={}}=s||{};localStorage.setItem("authing_token",JSON.stringify(s)),localStorage.setItem("authing_user",JSON.stringify(t)),console.log("\u767B\u5F55\u6210\u529F\uFF0Ctoken \u4FE1\u606F:",s),console.log("\u767B\u5F55\u6210\u529F\uFF0C\u7528\u6237\u4FE1\u606F:",t),e(e=>({...e,currentUser:{name:t.name,avatar:t.picture,userid:t.aud,email:t.email,...t}})),l.history.push("/");}}catch(e){console.error("\u767B\u5F55\u56DE\u8C03\u5904\u7406\u5931\u8D25:",e),l.history.push("/auth/login?error="+encodeURIComponent(e.message));}})();},[]),(0,a.jsx)("div",{className:"cs-flex cs-items-center cs-justify-center cs-min-h-screen cs-bg-gray-100",children:(0,a.jsxs)("div",{className:"cs-text-center",children:[(0,a.jsx)("div",{className:"cs-animate-spin cs-rounded-full cs-h-12 cs-w-12 cs-border-b-4 cs-border-blue-600 cs-mx-auto cs-mb-4"}),(0,a.jsx)("p",{className:"cs-text-lg cs-text-gray-700",children:"\u6B63\u5728\u5904\u7406\u767B\u5F55\uFF0C\u8BF7\u7A0D\u5019..."})]})});}}}]);
//# sourceMappingURL=ba8cbd1f-async.7286db2f.js.map